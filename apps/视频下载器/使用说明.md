# YouTube下载器 - 解决"机器人验证"错误

## 问题说明

当您看到以下错误时：
```
❌ 下载失败: ERROR: [youtube] Sign in to confirm you're not a bot
```

这是因为YouTube启用了机器人检测机制。解决方法是使用浏览器的cookies进行身份验证。

## 解决方案

### 方法1：使用浏览器Cookies（推荐）✅

程序已经更新，现在支持自动从浏览器导入cookies！

#### 步骤：

1. **在浏览器中登录YouTube**
   - 打开Chrome、Firefox、Safari等浏览器
   - 访问 https://www.youtube.com
   - 登录您的YouTube账号

2. **在下载器中选择浏览器**
   - 在"下载选项"区域找到"使用浏览器"下拉菜单
   - 选择您刚才登录的浏览器（chrome/firefox/safari等）

3. **开始下载**
   - 程序会自动从选择的浏览器中提取cookies
   - 使用这些cookies绕过机器人检测

#### 支持的浏览器：
- ✅ Chrome
- ✅ Firefox  
- ✅ Safari
- ✅ Edge
- ✅ Brave
- ✅ Chromium

### 方法2：不使用Cookies

如果您不想使用cookies，可以：
- 在"使用浏览器"下拉菜单中选择"不使用cookies"
- 但这可能导致某些视频无法下载

## 常见问题

### Q: 选择了浏览器还是失败？
A: 请确保：
1. 已在该浏览器中登录YouTube
2. 浏览器没有在无痕/隐私模式下运行
3. 选择的浏览器名称正确

### Q: Safari浏览器无法使用？
A: Safari的cookie访问可能需要额外权限。建议使用Chrome或Firefox。

### Q: 提示"无法访问浏览器cookies"？
A: 可能的原因：
- 浏览器正在运行，请关闭浏览器后重试
- macOS安全设置阻止了访问，需要在"系统偏好设置 > 安全性与隐私"中授权

### Q: 我不想登录YouTube账号怎么办？
A: 您可以：
1. 使用无痕模式登录临时账号
2. 尝试下载不需要登录的公开视频
3. 等待一段时间后重试（YouTube的限制可能是临时的）

## 技术说明

程序使用 `yt-dlp` 的 `--cookies-from-browser` 功能：
- 自动从浏览器的cookie存储中提取YouTube认证信息
- 不会保存或上传您的cookies
- 仅在下载过程中使用，下载完成后立即释放

## 隐私保护

⚠️ **重要提示**：
- Cookies仅在本地使用，不会上传到任何服务器
- 程序不会保存您的登录信息
- 建议使用您信任的浏览器
- 下载完成后可以退出浏览器的YouTube登录

## 更新日志

**v1.1** (2026-01-25)
- ✅ 添加浏览器cookie支持
- ✅ 支持6种主流浏览器
- ✅ 优化错误提示信息
- ✅ 解决YouTube机器人检测问题
