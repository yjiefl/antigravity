<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>å¹¿è¥¿ç°è´§å¸‚åœºï¼šç­–ç•¥ä¸é™ç”µæ·±åº¦å›¾è§£</title>
	<script src="https://cdn.tailwindcss.com"></script>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700;900&display=swap"
		rel="stylesheet">
	<style>
		body {
			font-family: 'Noto Sans SC', sans-serif;
			background-color: #F0F4F8;
			color: #1E293B;
		}

		/* Chart Container Styling - Mandatory Strict Compliance */
		.chart-container {
			position: relative;
			width: 100%;
			max-width: 600px;
			margin-left: auto;
			margin-right: auto;
			height: 350px;
			/* Base height */
			max-height: 400px;
		}

		@media (min-width: 768px) {
			.chart-container {
				height: 400px;
			}
		}

		/* Custom Utilities */
		.glass-card {
			background: rgba(255, 255, 255, 0.95);
			backdrop-filter: blur(10px);
			border: 1px solid rgba(255, 255, 255, 0.2);
			box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
		}

		.gradient-text {
			background: linear-gradient(135deg, #0284C7 0%, #0D9488 100%);
			background-clip: text;
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
		}

		.step-number {
			font-feature-settings: "tnum";
			font-variant-numeric: tabular-nums;
		}
	</style>
	<!-- Chosen Palette: "Electric Azure & Teal"
         Primary: #0284C7 (Sky 600 - representing electricity/sky)
         Secondary: #0D9488 (Teal 600 - representing clean energy/renewables)
         Accent: #F59E0B (Amber 500 - representing solar/warning)
         Dark: #0F172A (Slate 900 - text/structure)
         Background: #F0F4F8 (Blue-ish Grey)
    -->
	<!-- Application Structure Plan:
         1. Hero Section: Title and core definition of the market.
         2. Mechanism Section (Merit Order): Visualizing how price forms and where renewables sit.
         3. Strategy Section (The Choice): Comparing "Price Taker" vs "Price Maker" logic.
         4. Impact Section (Curtailment): Data comparing outcomes of strategies on curtailment.
         5. Footer: Summary.
         Flow: Linear narrative scroll.
    -->
</head>

<body class="antialiased selection:bg-teal-200 selection:text-teal-900">

	<!-- HERO SECTION -->
	<header class="bg-white pt-16 pb-12 px-4 sm:px-6 lg:px-8 border-b border-slate-200">
		<div class="max-w-5xl mx-auto text-center">
			<div
				class="inline-flex items-center justify-center px-4 py-1 rounded-full bg-sky-50 border border-sky-100 mb-6">
				<span class="text-sky-700 font-bold text-xs tracking-wider uppercase">2025 å®æ–½ç»†åˆ™ V2.0 è§£è¯»</span>
			</div>
			<h1 class="text-4xl md:text-6xl font-black text-slate-900 mb-6 leading-tight">
				å¹¿è¥¿ç”µåŠ›ç°è´§å¸‚åœº<br><span class="gradient-text">åšå¼ˆä¸é™ç”µ</span>
			</h1>
			<p class="text-lg md:text-xl text-slate-600 max-w-3xl mx-auto leading-relaxed">
				åœ¨æ–°çš„è§„åˆ™ä¸‹ï¼Œæ–°èƒ½æºåœºç«™ä¸å†åªæ˜¯ç®€å•çš„â€œå‘ä¸€åº¦ç”µï¼Œèµšä¸€åº¦é’±â€ã€‚<br>
				äº†è§£<strong>èŠ‚ç‚¹è¾¹é™…ç”µä»· (LMP)</strong> ä¸ <strong>æŠ¥é‡æŠ¥ä»·ç­–ç•¥</strong> å¦‚ä½•å†³å®šä½ çš„æ¶ˆçº³ç‡ä¸æ”¶ç›Šã€‚
			</p>
		</div>
	</header>

	<main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-24">

		<!-- SECTION 1: THE MECHANISM -->
		<section class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-center">
			<div class="lg:col-span-5 space-y-6">
				<div class="flex items-center gap-3 mb-2">
					<span
						class="bg-sky-600 text-white text-lg font-bold w-8 h-8 flex items-center justify-center rounded-lg shadow-sm step-number">1</span>
					<h2 class="text-2xl font-bold text-slate-900">ä»·æ ¼æ˜¯å¦‚ä½•å½¢æˆçš„ï¼Ÿ</h2>
				</div>
				<p class="text-slate-600 leading-relaxed text-justify">
					å¹¿è¥¿ç°è´§å¸‚åœºé‡‡ç”¨<strong>å…¨ç”µé‡é›†ä¸­ä¼˜åŒ–å‡ºæ¸…</strong>ã€‚æ‰€æœ‰æœºç»„æŒ‰æŠ¥ä»·ä»ä½åˆ°é«˜æ’åºï¼ˆMerit Orderï¼‰ã€‚
					<br><br>
					<strong>å…³é”®ç‚¹ï¼š</strong>
					æ–°èƒ½æºé€šå¸¸æŠ¥ä»·æä½ï¼ˆç”šè‡³ä¸ºé›¶ï¼‰ä»¥ä¼˜å…ˆå‡ºæ¸…ã€‚å½“æ–°èƒ½æºå¤§å‘æŒ¤å è´Ÿè·ç©ºé—´æ—¶ï¼Œè¾¹é™…æœºç»„æŠ¥ä»·é™ä½ï¼Œå¯¼è‡´å…¨ç½‘ä»·æ ¼ï¼ˆSMPï¼‰è·³æ°´ã€‚è‹¥å‘ç”Ÿçº¿è·¯é˜»å¡ï¼Œå±€éƒ¨èŠ‚ç‚¹ä»·æ ¼ï¼ˆLMPï¼‰ç”šè‡³å¯èƒ½ä½äºåœ°æ¿ä»·ã€‚
				</p>
				<div class="p-4 bg-sky-50 rounded-xl border border-sky-100">
					<h3 class="font-bold text-sky-800 text-sm mb-2">ğŸ’¡ æ ¸å¿ƒæœ¯è¯­: LMP</h3>
					<p class="text-xs text-sky-700">
						<strong>LMP (Locational Marginal Price)</strong> = ç³»ç»Ÿèƒ½é‡ä»·æ ¼ + é˜»å¡ä»·æ ¼ + ç½‘æŸä»·æ ¼ã€‚<br>
						å½“æ‚¨çš„åœºç«™ä½äºâ€œé˜»å¡åŒºâ€å†…ï¼Œæ‚¨çš„ç”µé€ä¸å‡ºå»ï¼Œè¯¥èŠ‚ç‚¹çš„LMPä¼šæš´è·Œï¼Œä»¥æ­¤å‘å‡ºâ€œå‡å°‘å‘ç”µâ€çš„ç»æµä¿¡å·ã€‚
					</p>
				</div>
			</div>

			<div class="lg:col-span-7">
				<div class="glass-card p-6 rounded-2xl">
					<div class="mb-4 flex justify-between items-center">
						<h3 class="font-bold text-slate-700">å¸‚åœºå‡ºæ¸…å †æ ˆç¤ºæ„å›¾ (Merit Order)</h3>
						<span class="text-xs text-slate-400 bg-slate-100 px-2 py-1 rounded">2025 æ¨¡æ‹Ÿæ•°æ®</span>
					</div>
					<!-- Chart Container -->
					<div class="chart-container">
						<canvas id="meritOrderChart"></canvas>
					</div>
					<p class="text-xs text-center text-slate-500 mt-4">
						ç»¿è‰²è™šçº¿ä»£è¡¨æ­£å¸¸è´Ÿè·,æ©™è‰²è™šçº¿ä»£è¡¨ä½è°·è´Ÿè·ã€‚å½“è´Ÿè·å·¦ç§»(éœ€æ±‚ä½)è¿›å…¥æµ…è“è‰²åŒºåŸŸ(æ–°èƒ½æº)æ—¶,ä»·æ ¼å°†ç”±æ–°èƒ½æºå®šä»·(æä½)ã€‚
					</p>
				</div>
			</div>
		</section>

		<!-- SECTION 2: THE STRATEGIES -->
		<section class="bg-white rounded-3xl shadow-xl overflow-hidden">
			<div class="p-8 md:p-12 bg-gradient-to-r from-slate-900 to-slate-800 text-white">
				<div class="flex items-center gap-3 mb-4">
					<span
						class="bg-teal-500 text-white text-lg font-bold w-8 h-8 flex items-center justify-center rounded-lg shadow-sm step-number">2</span>
					<h2 class="text-3xl font-bold">æ–°èƒ½æºçš„ä¸¤æ¡è·¯å¾„</h2>
				</div>
				<p class="text-slate-300 max-w-3xl text-lg opacity-90">
					ç»†åˆ™ç¬¬1.4æ¡è§„å®šäº†æ–°èƒ½æºå‚ä¸ç°è´§å¸‚åœºçš„ä¸¤ç§ä¸»è¦æ¨¡å¼ã€‚æ‚¨çš„é€‰æ‹©ç›´æ¥å†³å®šäº†åœ¨â€œé™ç”µâ€ä¸â€œä½ä»·â€ä¹‹é—´çš„æƒè¡¡ã€‚
				</p>
			</div>

			<div class="grid grid-cols-1 md:grid-cols-2">
				<!-- Strategy A -->
				<div
					class="p-8 md:p-12 border-b md:border-b-0 md:border-r border-slate-100 hover:bg-slate-50 transition-colors group">
					<div class="flex items-center justify-between mb-6">
						<h3 class="text-2xl font-bold text-slate-800 group-hover:text-teal-600 transition-colors">æ¨¡å¼ A:
							æŠ¥é‡ä¸æŠ¥ä»·</h3>
						<div
							class="px-3 py-1 bg-teal-100 text-teal-700 text-xs font-bold uppercase rounded-full tracking-wide">
							ä»·æ ¼æ¥å—è€…</div>
					</div>
					<ul class="space-y-4 mb-8">
						<li class="flex items-start">
							<span class="mr-3 mt-1 text-teal-500 font-bold">âœ“</span>
							<span class="text-slate-600 text-sm"><strong>æ“ä½œ:</strong> ä»…ç”³æŠ¥é¢„æµ‹å‘ç”µæ›²çº¿ã€‚</span>
						</li>
						<li class="flex items-start">
							<span class="mr-3 mt-1 text-teal-500 font-bold">âœ“</span>
							<span class="text-slate-600 text-sm"><strong>æœºåˆ¶:</strong>
								ç³»ç»Ÿé»˜è®¤ä»¥<strong>å¸‚åœºåœ°æ¿ä»·</strong>ä½œä¸ºæ‚¨çš„ä»·æ ¼æƒé‡ã€‚</span>
						</li>
						<li class="flex items-start">
							<span class="mr-3 mt-1 text-teal-500 font-bold">âœ“</span>
							<span class="text-slate-600 text-sm"><strong>ç»“æœ:</strong> åœ¨å‡ºæ¸…åºåˆ—ä¸­æå…¶é å‰ï¼Œä¼˜å…ˆä¸­æ ‡ã€‚</span>
						</li>
					</ul>
					<div class="bg-slate-100 rounded-lg p-4">
						<p class="text-xs font-bold text-slate-500 uppercase mb-2">é€‚ç”¨åœºæ™¯</p>
						<p class="text-slate-800 font-medium text-sm">
							<span class="text-2xl mr-2">ğŸ›¡ï¸</span> ä¿é‡ç­–ç•¥
						</p>
						<p class="text-xs text-slate-500 mt-1">é€‚åˆåœ¨éé˜»å¡æ—¶æ®µï¼Œé€šè¿‡ç¡®ä¿å‘ç”µé‡æ¥è·å–æ”¶ç›Šï¼Œå³ä½¿ä»·æ ¼è¾ƒä½ã€‚</p>
					</div>
				</div>

				<!-- Strategy B -->
				<div class="p-8 md:p-12 hover:bg-slate-50 transition-colors group">
					<div class="flex items-center justify-between mb-6">
						<h3 class="text-2xl font-bold text-slate-800 group-hover:text-amber-500 transition-colors">æ¨¡å¼ B:
							æŠ¥é‡æŠ¥ä»·</h3>
						<div
							class="px-3 py-1 bg-amber-100 text-amber-700 text-xs font-bold uppercase rounded-full tracking-wide">
							ç­–ç•¥åšå¼ˆè€…</div>
					</div>
					<ul class="space-y-4 mb-8">
						<li class="flex items-start">
							<span class="mr-3 mt-1 text-amber-500 font-bold">âœ“</span>
							<span class="text-slate-600 text-sm"><strong>æ“ä½œ:</strong> è‡ªä¸»ç”³æŠ¥é‡ä»·æ›²çº¿ï¼ˆåˆ†æ®µæŠ¥ä»·ï¼‰ã€‚</span>
						</li>
						<li class="flex items-start">
							<span class="mr-3 mt-1 text-amber-500 font-bold">âœ“</span>
							<span class="text-slate-600 text-sm"><strong>æœºåˆ¶:</strong> å‚ä¸å…¨ç½‘æ¯”ä»·ã€‚è‹¥æŠ¥ä»·é«˜äºLMPï¼Œåˆ™ä¸ä¸­æ ‡ã€‚</span>
						</li>
						<li class="flex items-start">
							<span class="mr-3 mt-1 text-amber-500 font-bold">âœ“</span>
							<span class="text-slate-600 text-sm"><strong>ç»“æœ:</strong> å­˜åœ¨â€œç»æµæ€§å¼ƒç”µâ€é£é™©ï¼Œä½†å¯è§„é¿è´Ÿç”µä»·ï¼ˆå¦‚å­˜åœ¨ï¼‰ã€‚</span>
						</li>
					</ul>
					<div class="bg-slate-100 rounded-lg p-4">
						<p class="text-xs font-bold text-slate-500 uppercase mb-2">é€‚ç”¨åœºæ™¯</p>
						<p class="text-slate-800 font-medium text-sm">
							<span class="text-2xl mr-2">ğŸ’°</span> é¿é™©ç­–ç•¥
						</p>
						<p class="text-xs text-slate-500 mt-1">é€‚åˆåœ¨æ‹¥æœ‰å‚¨èƒ½æˆ–éœ€è§„é¿æç«¯ä½ä»·äºæŸæ—¶ä½¿ç”¨ã€‚ç”¨â€œå¼ƒç”µâ€æ¢å–â€œä¸äºæŸâ€ã€‚</p>
					</div>
				</div>
			</div>
		</section>

		<!-- SECTION 3: CURTAILMENT ANALYSIS -->
		<section class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-start">
			<div class="lg:col-span-4 space-y-6">
				<div class="flex items-center gap-3 mb-2">
					<span
						class="bg-amber-500 text-white text-lg font-bold w-8 h-8 flex items-center justify-center rounded-lg shadow-sm step-number">3</span>
					<h2 class="text-2xl font-bold text-slate-900">é™ç”µçš„çœŸç›¸ï¼šç‰©ç† vs ç»æµ</h2>
				</div>
				<p class="text-slate-600 leading-relaxed text-justify">
					åœ¨ç°è´§å¸‚åœºä¸­ï¼Œâ€œé™ç”µâ€è¢«é‡æ–°å®šä¹‰ã€‚
					<br><br>
					<strong>ç³»ç»Ÿæ€§é™ç”µ (System Curtailment):</strong> å…¨ç½‘ä¾›å¤§äºæ±‚ã€‚æ­¤æ—¶LMPé€šå¸¸ä¸ºåœ°æ¿ä»·ã€‚æ‰€æœ‰é‡‡å–â€œæŠ¥é‡ä¸æŠ¥ä»·â€çš„ä¸»ä½“å°†æŒ‰æ¯”ä¾‹ï¼ˆPro-rataï¼‰å‰Šå‡å‡ºåŠ›ã€‚
					<br><br>
					<strong>ç»æµæ€§é™ç”µ (Economic Curtailment):</strong> æ‚¨çš„æŠ¥ä»·é«˜äºèŠ‚ç‚¹ç”µä»·ï¼Œå¯¼è‡´æœªä¸­æ ‡ã€‚è¿™æ˜¯ä¸»åŠ¨çš„å¸‚åœºè¡Œä¸ºï¼Œè€Œéè¢«åŠ¨å—é™ã€‚
				</p>
				<div class="mt-6">
					<button onclick="updateAnalysis('system')"
						class="w-full text-left px-4 py-3 rounded-lg mb-2 bg-teal-50 text-teal-800 font-bold border border-teal-200 hover:bg-teal-100 transition-all focus:ring-2 focus:ring-teal-500">
						åœºæ™¯ä¸€ï¼šç³»ç»Ÿæ€§ä¾›å¤§äºæ±‚
					</button>
					<button onclick="updateAnalysis('congestion')"
						class="w-full text-left px-4 py-3 rounded-lg bg-white text-slate-600 font-medium border border-slate-200 hover:bg-slate-50 transition-all focus:ring-2 focus:ring-slate-400">
						åœºæ™¯äºŒï¼šèŠ‚ç‚¹è¾“ç”µé˜»å¡
					</button>
				</div>
			</div>

			<div class="lg:col-span-8">
				<div class="glass-card p-6 rounded-2xl">
					<div class="mb-4">
						<h3 class="font-bold text-slate-700" id="chart-title-analysis">ä¸åŒç­–ç•¥ä¸‹çš„é™ç”µç‡å¯¹æ¯”</h3>
						<p class="text-xs text-slate-500 mt-1" id="chart-desc-analysis">æ˜¾ç¤ºåœ¨ç³»ç»Ÿè´Ÿè·ä½è°·æ—¶ï¼Œä¸åŒæŠ¥ä»·ç­–ç•¥å¯¼è‡´çš„æœªä¸­æ ‡ç”µé‡ï¼ˆé™ç”µï¼‰æ¯”ä¾‹ã€‚
						</p>
					</div>
					<!-- Chart Container -->
					<div class="chart-container">
						<canvas id="curtailmentChart"></canvas>
					</div>
				</div>
			</div>
		</section>

		<!-- SECTION 4: FINANCIAL IMPACT -->
		<section class="grid grid-cols-1 lg:grid-cols-12 gap-12 items-center">
			<div class="lg:col-span-8 order-2 lg:order-1">
				<div class="glass-card p-6 rounded-2xl">
					<div class="mb-4 flex justify-between items-end">
						<div>
							<h3 class="font-bold text-slate-700">å…¨å¤©ç´¯è®¡æ”¶ç›Šæ¨¡æ‹Ÿ</h3>
							<p class="text-xs text-slate-500 mt-1">åŸºäºå…¸å‹æ—¥ï¼šå…‰ä¼å¤§å‘ä¸­åˆæ—¶æ®µå‘ç”Ÿé˜»å¡ï¼ŒLMPé™è‡³5åˆ†é’±ã€‚</p>
						</div>
						<div class="flex gap-2 text-xs">
							<span class="flex items-center text-teal-700 font-bold">
								<span class="w-2 h-2 rounded-full bg-teal-500 mr-1"></span> æ¨¡å¼A (ä¿é‡)
							</span>
							<span class="flex items-center text-slate-600">
								<span class="w-2 h-2 rounded-full bg-slate-400 mr-1"></span> æ¨¡å¼B (é«˜æŠ¥)
							</span>
						</div>
					</div>
					<!-- Chart Container -->
					<div class="chart-container">
						<canvas id="revenueChart"></canvas>
					</div>
				</div>
			</div>

			<div class="lg:col-span-4 order-1 lg:order-2 space-y-6">
				<div class="flex items-center gap-3 mb-2">
					<span
						class="bg-indigo-600 text-white text-lg font-bold w-8 h-8 flex items-center justify-center rounded-lg shadow-sm step-number">4</span>
					<h2 class="text-2xl font-bold text-slate-900">æ”¶ç›Šä¸ä»…ä»…çœ‹ç”µä»·</h2>
				</div>
				<p class="text-slate-600 leading-relaxed text-justify">
					æ•°æ®æ¨¡æ‹Ÿæ˜¾ç¤ºï¼Œåœ¨å¹¿è¥¿ç°è´§è§„åˆ™ä¸‹ï¼š
				</p>
				<div class="space-y-4">
					<div class="p-4 bg-white rounded-lg border-l-4 border-teal-500 shadow-sm">
						<h4 class="font-bold text-slate-800 text-sm">é‡ > ä»· (é€šå¸¸æƒ…å†µ)</h4>
						<p class="text-xs text-slate-600 mt-1">
							ç”±äºæ–°èƒ½æºè¾¹é™…æˆæœ¬æä½ï¼Œåªè¦LMPä¸ºæ­£ï¼Œ<strong>æ¨¡å¼A (æŠ¥é‡ä¸æŠ¥ä»·)</strong> é€šå¸¸èƒ½é€šè¿‡æœ€å¤§åŒ–å‘ç”µé‡è·å¾—æ›´é«˜æ€»æ”¶ç›Šï¼Œå³ä½¿åœ¨ä½ä»·æ—¶æ®µã€‚
						</p>
					</div>
					<div class="p-4 bg-white rounded-lg border-l-4 border-amber-500 shadow-sm">
						<h4 class="font-bold text-slate-800 text-sm">é£é™©è­¦ç¤º</h4>
						<p class="text-xs text-slate-600 mt-1">
							è‹¥<strong>æ¨¡å¼B</strong> æŠ¥ä»·è¿‡é«˜ï¼ˆå¦‚è¯•å›¾ç»´æŒæ ‡æ†ç”µä»·ï¼‰ï¼Œåœ¨ç°è´§å¸‚åœºææ˜“â€œå…¨é¢è¸ç©ºâ€ï¼Œæ”¶ç›Šå½’é›¶ã€‚é™¤éè¯¥åœºç«™å…·å¤‡æå…¶çµæ´»çš„è°ƒèŠ‚èƒ½åŠ›ï¼ˆé…å‚¨ï¼‰ã€‚
						</p>
					</div>
				</div>
			</div>
		</section>

	</main>

	<!-- FOOTER -->
	<footer class="bg-slate-900 text-slate-400 py-12 border-t border-slate-800">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
			<h3 class="text-white font-bold text-lg mb-4">å¹¿è¥¿ç”µåŠ›å¸‚åœº 2025</h3>
			<p class="text-sm max-w-2xl mx-auto mb-8">
				æœ¬å›¾è§£åŸºäºã€Šå¹¿è¥¿ç”µåŠ›å¸‚åœºç°è´§ç”µèƒ½é‡äº¤æ˜“å®æ–½ç»†åˆ™ï¼ˆ2025å¹´V2.0ç‰ˆï¼‰ã€‹åˆ¶ä½œã€‚æ—¨åœ¨å¸®åŠ©å¸‚åœºä¸»ä½“ç†è§£ç°è´§äº¤æ˜“çš„æ ¸å¿ƒé€»è¾‘ã€‚
				å®é™…æ”¶ç›Šå—ç”µç½‘ç»“æ„ã€å®æ—¶å¤©æ°”åŠå…¶ä»–ä¸»ä½“æŠ¥ä»·ç­‰å¤šé‡å› ç´ å½±å“ã€‚
			</p>
			<div class="flex justify-center gap-4 text-xs font-mono opacity-50">
				<!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
				<span>DATA VISUALIZATION</span>
				<span>â€¢</span>
				<span>NO SVG</span>
				<span>â€¢</span>
				<span>CHART.JS</span>
			</div>
			<!-- Visualization & Content Choices:
                  1. Merit Order (Line/Area): Goal -> Inform (Mechanism). Viz -> Chart.js Area (Stepped).
                  2. Participation Modes (Cards): Goal -> Organize (Categories). Viz -> HTML/Tailwind Layout.
                  3. Curtailment (Stacked Bar): Goal -> Analysis (Relationships). Viz -> Chart.js Stacked Bar.
                  4. Revenue (Grouped Bar): Goal -> Compare (Outcomes). Viz -> Chart.js Grouped Bar.
             -->
		</div>
	</footer>

	<script>
		// Global Configuration for Chart.js
		Chart.defaults.font.family = "'Noto Sans SC', sans-serif";
		Chart.defaults.color = '#64748B';

		// --- DATA & CONFIGURATION ---

		// 1. Merit Order Data
		const meritData = {
			labels: ['0 MW', '2000 MW (æ–°èƒ½æº)', '2000 MW', '5000 MW (ç«ç”µåŸºæ•°)', '5000 MW', '8000 MW (è°ƒå³°)', '8000 MW', '10000 MW'],
			datasets: [
				{
					label: 'å¸‚åœºæŠ¥ä»·æ›²çº¿',
					data: [50, 50, 350, 350, 450, 450, 800, 800],
					borderColor: '#0284C7',
					backgroundColor: 'rgba(2, 132, 199, 0.1)',
					borderWidth: 2,
					fill: true,
					stepped: true,
					tension: 0,
					pointRadius: 0
				},
				{
					label: 'è´Ÿè·éœ€æ±‚ (æ­£å¸¸)',
					data: [null, null, null, null, 400, 400, null, null], // A visual line segment
					borderColor: '#0D9488',
					borderWidth: 2,
					borderDash: [5, 5],
					pointRadius: 0,
					type: 'line'
				},
				{
					label: 'è´Ÿè·éœ€æ±‚ (ä½è°·)',
					data: [null, 100, 100, null, null, null, null, null], // Visual line segment in low cost area
					borderColor: '#F59E0B',
					borderWidth: 2,
					borderDash: [5, 5],
					pointRadius: 0,
					type: 'line'
				}
			]
		};

		// 2. Curtailment Data (Dynamic)
		const curtailmentData = {
			system: {
				title: "åœºæ™¯ä¸€ï¼šç³»ç»Ÿæ€§ä¾›å¤§äºæ±‚ (System Surplus)",
				desc: "å…¨ç½‘è´Ÿè·ä½è°·ï¼Œæ–°èƒ½æºå¤§å‘ã€‚åœ°æ¿ä»·å‡ºæ¸…ï¼Œæ‰€æœ‰ä¸»ä½“æŒ‰æ¯”ä¾‹é™ç”µã€‚",
				data: [
					{ x: 'æ¨¡å¼A (æŠ¥é‡ä¸æŠ¥ä»·)', y: 15, z: 85 }, // 15% curtailed pro-rata
					{ x: 'æ¨¡å¼B (æŠ¥ä»· < åœ°æ¿ä»·)', y: 15, z: 85 }, // Same if bid low
					{ x: 'æ¨¡å¼B (æŠ¥ä»· > åœ°æ¿ä»·)', y: 100, z: 0 }  // 100% curtailed economically
				]
			},
			congestion: {
				title: "åœºæ™¯äºŒï¼šèŠ‚ç‚¹è¾“ç”µé˜»å¡ (Congestion)",
				desc: "ç‰¹å®šæ–­é¢é˜»å¡ã€‚è¯¥èŠ‚ç‚¹LMPæä½ã€‚æŠ¥ä»·é«˜çš„æœºç»„é¦–å…ˆè¢«åˆ‡é™¤ã€‚",
				data: [
					{ x: 'æ¨¡å¼A (æŠ¥é‡ä¸æŠ¥ä»·)', y: 5, z: 95 }, // Preferential dispatch
					{ x: 'æ¨¡å¼B (ç†æ€§æŠ¥ä»·)', y: 30, z: 70 }, // Partially cleared
					{ x: 'æ¨¡å¼B (é«˜æŠ¥ä»·)', y: 100, z: 0 }   // Fully Curtailed
				]
			}
		};

		// 3. Revenue Data
		const revenueData = {
			labels: ['00:00-08:00 (ä½è°·)', '08:00-16:00 (å…‰ä¼å¤§å‘/é˜»å¡)', '16:00-24:00 (æ™šé«˜å³°)'],
			datasets: [
				{
					label: 'æ¨¡å¼A: æŠ¥é‡ä¸æŠ¥ä»· (ç´¯è®¡æ”¶ç›Š)',
					data: [12000, 18000, 45000],
					backgroundColor: '#0D9488',
					borderRadius: 4
				},
				{
					label: 'æ¨¡å¼B: ç­–ç•¥æ€§é«˜æŠ¥ (ç´¯è®¡æ”¶ç›Š)',
					data: [8000, 2000, 42000], // Lost volume in middle of day due to high bid
					backgroundColor: '#94A3B8',
					borderRadius: 4
				}
			]
		};

		// --- CHART RENDERERS ---

		let chartCurtailmentInstance = null;

		function renderMeritChart() {
			const ctx = document.getElementById('meritOrderChart').getContext('2d');
			new Chart(ctx, {
				type: 'line',
				data: meritData,
				options: {
					responsive: true,
					maintainAspectRatio: false,
					scales: {
						y: {
							beginAtZero: true,
							title: { display: true, text: 'æŠ¥ä»· (å…ƒ/MWh)' },
							suggestedMax: 900
						},
						x: {
							type: 'category', // Simplified for infographic
							title: { display: true, text: 'ç´¯è®¡ç”³æŠ¥ç”µé‡ (ç¤ºæ„)' },
							grid: { display: false }
						}
					},
					plugins: {
						tooltip: {
							callbacks: {
								title: (tooltipItems) => {
									// Mandatory wrapping requirement handling
									const item = tooltipItems[0];
									let label = item.chart.data.labels[item.dataIndex];
									return Array.isArray(label) ? label.join(' ') : label;
								}
							}
						},
						legend: { position: 'bottom' }
					}
				}
			});
		}

		function renderCurtailmentChart(scenarioKey) {
			const ctx = document.getElementById('curtailmentChart').getContext('2d');
			const currentScenario = curtailmentData[scenarioKey];

			// Update Text
			document.getElementById('chart-title-analysis').innerText = currentScenario.title;
			document.getElementById('chart-desc-analysis').innerText = currentScenario.desc;

			// Prepare Data
			const labels = currentScenario.data.map(d => wrapLabel(d.x)); // Applying label wrapping logic
			const curtailedData = currentScenario.data.map(d => d.y);
			const clearedData = currentScenario.data.map(d => d.z);

			if (chartCurtailmentInstance) {
				chartCurtailmentInstance.destroy();
			}

			chartCurtailmentInstance = new Chart(ctx, {
				type: 'bar',
				data: {
					labels: labels,
					datasets: [
						{
							label: 'é™ç”µ/æœªä¸­æ ‡ç”µé‡ (%)',
							data: curtailedData,
							backgroundColor: '#F59E0B', // Amber for Warning/Loss
						},
						{
							label: 'ä¸­æ ‡ç”µé‡ (%)',
							data: clearedData,
							backgroundColor: '#0D9488', // Teal for Success
						}
					]
				},
				options: {
					responsive: true,
					maintainAspectRatio: false,
					indexAxis: 'y', // Horizontal Bar for better label reading
					scales: {
						x: { stacked: true, max: 100 },
						y: { stacked: true }
					},
					plugins: {
						tooltip: {
							callbacks: {
								title: (tooltipItems) => {
									const item = tooltipItems[0];
									let label = item.chart.data.labels[item.dataIndex];
									return Array.isArray(label) ? label.join(' ') : label;
								}
							}
						},
						legend: { position: 'bottom' }
					}
				}
			});
		}

		function renderRevenueChart() {
			const ctx = document.getElementById('revenueChart').getContext('2d');

			// Label Wrapping for Revenue Chart
			const wrappedLabels = revenueData.labels.map(l => wrapLabel(l));

			new Chart(ctx, {
				type: 'bar',
				data: {
					labels: wrappedLabels,
					datasets: revenueData.datasets
				},
				options: {
					responsive: true,
					maintainAspectRatio: false,
					scales: {
						y: {
							beginAtZero: true,
							title: { display: true, text: 'é¢„ä¼°æ”¶ç›Š (å…ƒ)' }
						}
					},
					plugins: {
						tooltip: {
							callbacks: {
								title: (tooltipItems) => {
									const item = tooltipItems[0];
									let label = item.chart.data.labels[item.dataIndex];
									return Array.isArray(label) ? label.join(' ') : label;
								}
							}
						},
						legend: { position: 'bottom' }
					}
				}
			});
		}

		// --- HELPER FUNCTIONS ---

		// Label Wrapping Logic (Mandatory)
		function wrapLabel(str) {
			if (str.length <= 16) return str;
			const words = str.split(' '); // Split by space if possible, or char if needed
			// Simple logic: split into chunks if no spaces, or group words
			if (words.length === 1) {
				// Force split if single long word (rare in CN but good safety)
				return str.match(/.{1,16}/g);
			}
			let lines = [];
			let currentLine = words[0];

			for (let i = 1; i < words.length; i++) {
				if ((currentLine + " " + words[i]).length < 16) {
					currentLine += " " + words[i];
				} else {
					lines.push(currentLine);
					currentLine = words[i];
				}
			}
			lines.push(currentLine);
			return lines;
		}

		function updateAnalysis(scenario) {
			renderCurtailmentChart(scenario);
		}

		// Initialize
		document.addEventListener('DOMContentLoaded', () => {
			renderMeritChart();
			renderCurtailmentChart('system');
			renderRevenueChart();
		});

	</script>
</body>

</html>