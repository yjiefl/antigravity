# Bilibili视频下载说明

## 功能说明

程序现已支持Bilibili视频下载！`yt-dlp`内置了对Bilibili的支持，可以下载：

- ✅ 普通视频
- ✅ 番剧（部分）
- ✅ 分P视频
- ✅ 音频提取

## 使用方法

### 1. 获取视频URL

**方法1：直接复制浏览器地址栏**
```
https://www.bilibili.com/video/BV1xx411c7XD
```

**方法2：使用短链接**
```
https://b23.tv/xxxxxx
```

### 2. 下载步骤

1. 打开下载器程序
2. 在URL输入框粘贴Bilibili视频链接
3. 选择视频质量（建议720p或1080p）
4. 点击"添加到列表"
5. 点击"开始下载"

### 3. 浏览器选择

**重要：** Bilibili视频通常不需要浏览器cookies，程序会自动检测平台并使用适当的配置。

- YouTube视频 → 需要选择浏览器cookies
- Bilibili视频 → 自动使用专用配置，无需cookies

## 支持的内容类型

### ✅ 可以下载

- 普通UP主上传的视频
- 公开的投稿视频
- 大部分免费番剧
- 纪录片
- 课程视频（免费部分）

### ❌ 可能无法下载

- 大会员专享内容
- 付费课程
- 地区限制内容
- 需要登录才能观看的视频

## 质量选项

Bilibili支持的质量等级：

| 质量选项 | Bilibili对应 | 说明 |
|---------|-------------|------|
| 2160p (4K) | 4K超清 | 需要大会员 |
| 1440p (2K) | 2K超清 | 部分视频支持 |
| 1080p | 1080P高清 | 推荐选择 |
| 720p | 720P高清 | 稳定可靠 |
| 480p | 480P清晰 | 较小文件 |
| 360p | 360P流畅 | 最小文件 |

## 常见问题

### Q: Bilibili视频需要登录吗？
A: 大部分公开视频不需要登录即可下载。如果遇到需要登录的视频，可能无法下载。

### Q: 可以下载大会员视频吗？
A: 不可以。大会员专享内容有DRM保护，无法通过下载工具获取。

### Q: 如何下载分P视频？
A: 
- 单个分P：直接复制该分P的URL
- 所有分P：需要分别添加每个分P的URL到下载列表

### Q: 下载速度慢怎么办？
A: 
- Bilibili服务器在国内，下载速度通常较快
- 如果慢，可以尝试选择较低的视频质量
- 检查网络连接

### Q: 提示"视频不可用"？
A: 可能原因：
- 视频已被删除或设为私密
- 需要大会员权限
- 有地区限制
- UP主设置了禁止下载

## 示例URL

**普通视频：**
```
https://www.bilibili.com/video/BV1xx411c7XD
```

**分P视频（指定P）：**
```
https://www.bilibili.com/video/BV1xx411c7XD?p=2
```

**短链接：**
```
https://b23.tv/av12345
```

## 技术说明

程序会自动检测URL类型：
- 检测到`bilibili.com`或`b23.tv` → 使用Bilibili配置
- 检测到`youtube.com`或`youtu.be` → 使用YouTube配置

Bilibili特定配置：
- 添加Referer头：`https://www.bilibili.com/`
- 不使用浏览器cookies（通常不需要）
- 使用与YouTube相同的重试和片段处理机制

## 提示

> [!TIP]
> 建议先用720p或1080p测试下载，这两个质量选项最稳定。

> [!NOTE]
> Bilibili视频下载通常比YouTube更稳定，因为没有严格的机器人检测机制。

> [!WARNING]
> 请遵守Bilibili服务条款，仅下载您有权下载的内容。
